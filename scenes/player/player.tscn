[gd_scene load_steps=72 format=3 uid="uid://mtypemkvspd0"]

[ext_resource type="Texture2D" uid="uid://bbxh2d2y8o3o1" path="res://assets/sprites/imelda.png" id="1_h0usy"]
[ext_resource type="Script" path="res://scenes/player/player.gd" id="1_qwsb6"]

[sub_resource type="AtlasTexture" id="AtlasTexture_vlxus"]
atlas = ExtResource("1_h0usy")
region = Rect2(1152, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_lfvmv"]
atlas = ExtResource("1_h0usy")
region = Rect2(1188, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_jsa3m"]
atlas = ExtResource("1_h0usy")
region = Rect2(1224, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_dxmb5"]
atlas = ExtResource("1_h0usy")
region = Rect2(1260, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_w6nuu"]
atlas = ExtResource("1_h0usy")
region = Rect2(1440, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4rp6"]
atlas = ExtResource("1_h0usy")
region = Rect2(1476, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_4d1sn"]
atlas = ExtResource("1_h0usy")
region = Rect2(1512, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_6fn02"]
atlas = ExtResource("1_h0usy")
region = Rect2(1548, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_o5aax"]
atlas = ExtResource("1_h0usy")
region = Rect2(1584, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_tu3xr"]
atlas = ExtResource("1_h0usy")
region = Rect2(1620, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_lw7c6"]
atlas = ExtResource("1_h0usy")
region = Rect2(1656, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_pdis8"]
atlas = ExtResource("1_h0usy")
region = Rect2(1692, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_6hl7i"]
atlas = ExtResource("1_h0usy")
region = Rect2(1296, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_r8txr"]
atlas = ExtResource("1_h0usy")
region = Rect2(1332, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_riljp"]
atlas = ExtResource("1_h0usy")
region = Rect2(1368, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_pyay7"]
atlas = ExtResource("1_h0usy")
region = Rect2(1404, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_ocrg0"]
atlas = ExtResource("1_h0usy")
region = Rect2(0, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_a1wdq"]
atlas = ExtResource("1_h0usy")
region = Rect2(36, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_8jsto"]
atlas = ExtResource("1_h0usy")
region = Rect2(144, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_3k688"]
atlas = ExtResource("1_h0usy")
region = Rect2(180, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_lvib6"]
atlas = ExtResource("1_h0usy")
region = Rect2(216, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_qi7ut"]
atlas = ExtResource("1_h0usy")
region = Rect2(252, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_t5yec"]
atlas = ExtResource("1_h0usy")
region = Rect2(72, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_qhon6"]
atlas = ExtResource("1_h0usy")
region = Rect2(108, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_cncdl"]
atlas = ExtResource("1_h0usy")
region = Rect2(288, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_107tw"]
atlas = ExtResource("1_h0usy")
region = Rect2(324, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_htne4"]
atlas = ExtResource("1_h0usy")
region = Rect2(360, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_mhnkw"]
atlas = ExtResource("1_h0usy")
region = Rect2(396, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_h5v42"]
atlas = ExtResource("1_h0usy")
region = Rect2(432, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_iex38"]
atlas = ExtResource("1_h0usy")
region = Rect2(468, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_whxg5"]
atlas = ExtResource("1_h0usy")
region = Rect2(720, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_yh7dj"]
atlas = ExtResource("1_h0usy")
region = Rect2(756, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_v0rxd"]
atlas = ExtResource("1_h0usy")
region = Rect2(792, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_4r8t1"]
atlas = ExtResource("1_h0usy")
region = Rect2(828, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_mg1rh"]
atlas = ExtResource("1_h0usy")
region = Rect2(864, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_cwx17"]
atlas = ExtResource("1_h0usy")
region = Rect2(900, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_u1c23"]
atlas = ExtResource("1_h0usy")
region = Rect2(936, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_kbm7q"]
atlas = ExtResource("1_h0usy")
region = Rect2(972, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_jhgt3"]
atlas = ExtResource("1_h0usy")
region = Rect2(1008, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1egr"]
atlas = ExtResource("1_h0usy")
region = Rect2(1044, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_xdo7j"]
atlas = ExtResource("1_h0usy")
region = Rect2(1080, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_3v27l"]
atlas = ExtResource("1_h0usy")
region = Rect2(1116, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_00q3p"]
atlas = ExtResource("1_h0usy")
region = Rect2(504, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_1827n"]
atlas = ExtResource("1_h0usy")
region = Rect2(540, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3udg"]
atlas = ExtResource("1_h0usy")
region = Rect2(576, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_yn7oj"]
atlas = ExtResource("1_h0usy")
region = Rect2(612, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_6rdnv"]
atlas = ExtResource("1_h0usy")
region = Rect2(648, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_nh8fy"]
atlas = ExtResource("1_h0usy")
region = Rect2(684, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_1xikh"]
atlas = ExtResource("1_h0usy")
region = Rect2(1728, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_kb810"]
atlas = ExtResource("1_h0usy")
region = Rect2(1764, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_mphag"]
atlas = ExtResource("1_h0usy")
region = Rect2(1800, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_ifvif"]
atlas = ExtResource("1_h0usy")
region = Rect2(1836, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_dxw7a"]
atlas = ExtResource("1_h0usy")
region = Rect2(2016, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_jp02t"]
atlas = ExtResource("1_h0usy")
region = Rect2(2052, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_8cfu8"]
atlas = ExtResource("1_h0usy")
region = Rect2(2088, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_feycq"]
atlas = ExtResource("1_h0usy")
region = Rect2(2124, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_yg3xr"]
atlas = ExtResource("1_h0usy")
region = Rect2(2160, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_xc1nj"]
atlas = ExtResource("1_h0usy")
region = Rect2(2196, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_uqhrl"]
atlas = ExtResource("1_h0usy")
region = Rect2(2232, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_p1pp7"]
atlas = ExtResource("1_h0usy")
region = Rect2(2268, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_mrtro"]
atlas = ExtResource("1_h0usy")
region = Rect2(1872, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_ywfkb"]
atlas = ExtResource("1_h0usy")
region = Rect2(1908, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_0fgis"]
atlas = ExtResource("1_h0usy")
region = Rect2(1944, 0, 36, 36)

[sub_resource type="AtlasTexture" id="AtlasTexture_uclog"]
atlas = ExtResource("1_h0usy")
region = Rect2(1980, 0, 36, 36)

[sub_resource type="SpriteFrames" id="SpriteFrames_628ao"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vlxus")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lfvmv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jsa3m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dxmb5")
}],
"loop": false,
"name": &"attack_down",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_w6nuu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4rp6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4d1sn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6fn02")
}],
"loop": false,
"name": &"attack_left",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o5aax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tu3xr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lw7c6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pdis8")
}],
"loop": false,
"name": &"attack_right",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6hl7i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r8txr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_riljp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pyay7")
}],
"loop": false,
"name": &"attack_up",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ocrg0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a1wdq")
}],
"loop": true,
"name": &"idle_down",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8jsto")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3k688")
}],
"loop": true,
"name": &"idle_left",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lvib6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qi7ut")
}],
"loop": true,
"name": &"idle_right",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t5yec")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qhon6")
}],
"loop": true,
"name": &"idle_up",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cncdl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_107tw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_htne4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mhnkw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h5v42")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iex38")
}],
"loop": true,
"name": &"move_down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_whxg5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yh7dj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v0rxd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4r8t1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mg1rh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cwx17")
}],
"loop": true,
"name": &"move_left",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_u1c23")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kbm7q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jhgt3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1egr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xdo7j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3v27l")
}],
"loop": true,
"name": &"move_right",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_00q3p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1827n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3udg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yn7oj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6rdnv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nh8fy")
}],
"loop": true,
"name": &"move_up",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1xikh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kb810")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mphag")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ifvif")
}],
"loop": false,
"name": &"roll_down",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dxw7a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jp02t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8cfu8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_feycq")
}],
"loop": false,
"name": &"roll_left",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yg3xr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xc1nj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uqhrl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p1pp7")
}],
"loop": false,
"name": &"roll_right",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mrtro")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ywfkb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0fgis")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uclog")
}],
"loop": false,
"name": &"roll_up",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_m85ox"]
radius = 4.0
height = 20.0

[sub_resource type="Animation" id="Animation_jbjml"]
resource_name = "exit"
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Color(1, 1, 1, 1), Color(0.831373, 0.831373, 0.843137, 1), Color(0.662745, 0.662745, 0.686275, 1), Color(0.490196, 0.490196, 0.52549, 1), Color(0.321569, 0.321569, 0.368627, 1), Color(0.152941, 0.152941, 0.211765, 1)]
}

[sub_resource type="Animation" id="Animation_6a6wx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vvrli"]
_data = {
"RESET": SubResource("Animation_6a6wx"),
"exit": SubResource("Animation_jbjml")
}

[node name="Player" type="CharacterBody2D"]
collision_layer = 2
script = ExtResource("1_qwsb6")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_628ao")
animation = &"idle_down"
autoplay = "idle_up"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_m85ox")

[node name="AttackArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 4
monitoring = false

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="AttackArea"]
visible = false
polygon = PackedVector2Array(-20, 0, -15, -15, 0, -25, 15, -15, 20, 0)

[node name="AttackTimer" type="Timer" parent="."]
wait_time = 0.2
one_shot = true

[node name="RollTimer" type="Timer" parent="."]
wait_time = 0.4
one_shot = true

[node name="RollCooldownTimer" type="Timer" parent="."]
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
"": SubResource("AnimationLibrary_vvrli")
}

[connection signal="body_entered" from="AttackArea" to="." method="_on_attack_area_body_entered"]
[connection signal="timeout" from="AttackTimer" to="." method="_on_attack_timer_timeout"]
[connection signal="timeout" from="RollTimer" to="." method="_on_roll_timer_timeout"]
[connection signal="timeout" from="RollCooldownTimer" to="." method="_on_roll_cooldown_timer_timeout"]
